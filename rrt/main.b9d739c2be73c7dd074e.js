!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);class n{constructor(t,e){this.x=t,this.y=e}static from(t){return new n(t.x,t.y)}static zero(){return new n(0,0)}add(t){return new n(this.x+t.x,this.y+t.y)}subtract(t){return new n(this.x-t.x,this.y-t.y)}scale(t){return new n(this.x*t,this.y*t)}get sqrMagnitude(){return this.x*this.x+this.y*this.y}get magnitude(){return Math.sqrt(this.sqrMagnitude)}get normalized(){return n.from(this).scale(1/this.magnitude)}get abs(){return new n(Math.abs(this.x),Math.abs(this.y))}}class s{constructor(t,e,i,s){this.x=t,this.y=e,this.width=i,this.height=s,this.halfWidth=i/2,this.halfHeight=s/2,this.center=new n(this.x+this.halfWidth,this.y+this.halfHeight)}contains(t){return this.x<=t.x&&t.x<=this.x+this.width&&this.y<=t.y&&t.y<=this.y+this.height}distanceToPoint(t){let e=t.subtract(this.center).abs,i=Math.max(0,e.x-this.halfWidth),n=Math.max(0,e.y-this.halfHeight);return Math.sqrt(i*i+n*n)}}class h{constructor(t){this.root=new r(t,1),this.depth=1}addPoint(t){this.depth=Math.max(this.depth,this.root.addPoint(t))}findNearestNeighbor(t){let e=[this.root],i=1/0,n=null;for(let s=1;s<=this.depth;s++){for(let s of e)if(s.point){let e=s.point.subtract(t).magnitude;e<i&&(i=e,n=s.point)}let s=[];for(let n of e)if(n.children)for(let e of n.children)e.bounds.distanceToPoint(t)<=i&&s.push(e);e=s}return n}draw(t){this.root.draw(t),this.findNearestNeighbor(new n(0,0))}}class r{constructor(t,e){this.bounds=t,this.depth=e}contains(t){return this.bounds.contains(t)}addPoint(t){return this.bounds.contains(t)?this.point?(this.children||(this.children=this.split(),this.children.find(t=>t.contains(this.point)).addPoint(this.point)),this.children.find(e=>e.contains(t)).addPoint(t)):(this.point=t,this.depth):this.depth}findSquare(t){return this.children?this.children.find(e=>e.contains(t)).findSquare(t):this}findNearestNeighbor(t){if(!this.point)return;this.point.subtract(t).magnitude;for(let e of this.children){e.bounds.distanceToPoint(t)}}split(){let t=this.bounds.width/2,e=this.bounds.height/2;return[new r(new s(this.bounds.x,this.bounds.y,t,e),this.depth+1),new r(new s(this.bounds.x+t,this.bounds.y,t,e),this.depth+1),new r(new s(this.bounds.x,this.bounds.y+e,t,e),this.depth+1),new r(new s(this.bounds.x+t,this.bounds.y+e,t,e),this.depth+1)]}draw(t){if(t.strokeStyle="rgba(0, 0, 0, 1)",this.point?t.fillStyle="rgba(0, 255, 0, 0.1)":t.fillStyle="rgba(255, 255, 255, 0)",t.fillRect(this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height),t.strokeRect(this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height),this.children)for(let e of this.children)e.draw(t)}}class o{constructor(t,e,i){this.edges=[],this.quadtree=new h(new s(0,0,e,i));for(let e of t)this.quadtree.addPoint(e)}grow(t,e){let i=this.quadtree.findNearestNeighbor(t),n=t.subtract(i).normalized,s=i.add(n.scale(e));this.edges.push([i,s]),this.quadtree.addPoint(s)}}let d,a=document.getElementById("canvas");a.width=window.innerWidth,a.height=window.innerHeight;let u=0;function l(){d=new o([new n(a.width/4,a.height/4),new n(a.width/4*3,a.height/4*3)],a.width,a.height),u=0,window.requestAnimationFrame(c)}function c(){for(let t=0;t<200;t++){let t=new n(Math.random()*a.width,Math.random()*a.height);d.grow(t,1)}!function(){if(a.getContext){var t=a.getContext("2d");for(let e=u;e<d.edges.length;e++){let i=d.edges[e],n=i[0],s=i[1];t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(s.x,s.y),t.stroke()}u=d.edges.length}}(),window.requestAnimationFrame(c)}window.addEventListener("resize",(function(){a.width=window.innerWidth,a.height=window.innerHeight,a.getContext("2d").clearRect(0,0,a.width,a.height),l()}),!1),l()}]);